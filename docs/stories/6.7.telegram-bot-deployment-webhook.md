# Status
Planned

# Story: Telegram Bot - Deployment & Webhook Setup
Deploy the bot as a Supabase Edge Function, set the Telegram webhook, and document the steps.

## Prerequisites
- `6.1` completed.

## Acceptance Criteria
- Function deployed and accessible via HTTPS.
- Telegram webhook set to the function URL.
- Environment variables configured in Supabase for `TELEGRAM_BOT_TOKEN`, optional `BOT_DEFAULT_PROPERTY_ID`, service role key access where necessary.
- Basic runbook documented for re-deploys and webhook resets.

## Tasks
- Deploy
  - `supabase functions deploy telegram-bot`
  - Configure project environment variables (Dashboard → Config → Functions).
- Webhook
  - Set webhook via Telegram Bot API `setWebhook` to function URL.
  - Verify with `getWebhookInfo`.
- Docs
  - Add step-by-step under this story's Dev Notes.

## Dev Notes
- Example curl:
  ```bash
  curl -X POST https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/setWebhook \
    -d url=https://<project-ref>.functions.supabase.co/telegram-bot
  ```
- Verify:
  ```bash
  curl https://api.telegram.org/bot$TELEGRAM_BOT_TOKEN/getWebhookInfo
  ```

## Testing
- Send `/start` after deploy; ensure responses arrive via webhook (not polling).

## Change Log
- 2025-08-21: Initial story draft created.
