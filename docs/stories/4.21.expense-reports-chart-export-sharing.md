# Story 4.21: Reports & Analytics - Chart Export & Sharing

## Status
Ready for Review

## Story
As a user,
I want to export and share individual charts,
So that I can use them in presentations and messages.

## Acceptance Criteria
1. Export chart as PNG (customizable resolution, includes title/legend)
2. Copy chart image to clipboard with one click
3. Share via native Web Share API (files or URLs when supported)
4. Export settings: DPI, background, margins
5. Accessible export menu with keyboard support

## Tasks / Subtasks
- [ ] `ChartExport` actions (Download PNG, Copy, Share)
- [ ] `useChartExport` hook (html2canvas/OffscreenCanvas)
- [ ] Include chart metadata (title/legend) in image
- [ ] Fallbacks when ClipboardItem/Web Share API unsupported
- [ ] Export progress indicators and error handling

## Dev Notes
- References:
  - `docs/implementation-plans/expense-reports-ui-improvement-plan.md` (Exports)
  - `docs/implementation-plans/expense-reports-components-guide.md` â†’ `ChartExport`
- Suggested locations:
  - `src/components/ReportsAnalytics/export/ChartExport.tsx`
  - `src/hooks/useChartExport.ts`
- Libraries: html2canvas, FileSaver; ensure dark-mode compatible exports
- Foundation: Story 4.0 provides base architecture
- Location: New ReportsAnalytics section (not ExpenseManagement)
- No legacy code dependencies

## Testing
- [ ] PNGs are crisp at multiple resolutions (1x/2x/3x)
- [ ] Clipboard copy works on Chrome/Edge; fallback prompts download
- [ ] Web Share API used on mobile; fallback to download
- [ ] Titles/legends included and readable
- [ ] A11y: keyboard navigation and ARIA labels on menu

## Success Metrics
- Export usage: >30% of users export/share charts
- Support tickets: 0 for unreadable exports

## Integration Points
- Scheduled reports: reuse chart export for email thumbnails
- Dashboard builder: per-widget exports

## Prerequisites
- Story 4.0 (Reports & Analytics Foundation) must be completed

## Change Log
| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-08-16 | 1.0 | Initial story creation | Team |
